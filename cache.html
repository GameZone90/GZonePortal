<!DOCTYPE html>
<html manifest="psfree_lapse.cache">
<head>
  <meta charset="utf-8">
  <title>PSFree-Lapse Exploit For PS4 9.00</title>
  <link rel="shortcut icon" href="favicon.ico">

  <style>
    body {
      background-image: url("bg.jpg");
      background-repeat: no-repeat;
      background-size: 70%;
      background-position: center;
      background-color: white;
      color: black;
      font-size: 20px;
      text-align: center;
      margin: 0;
      overflow: hidden;
      font-family: sans-serif;
    }

    .info {
      overflow: hidden;
      position: absolute;
      top: 45%;
      left: 50%;
      font-size: 25px;
      transform: translate(-50%, -50%);
    }
  </style>

  <script>
    history.replaceState(null, null, 'index.html');
    var histlength = history.length;
    history.go(-histlength);

    function DLProgress(e) {
      let percent = Math.round(e.loaded / e.total * 100);
      msgs.innerHTML = "📦 جاري تثبيت الملفات مؤقتًا ... " + percent + "%";
    }

    function DisplayCacheProgress() {
      msgs.innerHTML = "✅ تم التثبيت بنجاح<br>Reloading...";
      setTimeout(function () { location.reload(); }, 3000);
    }

    function handleCacheError(e) {
      msgs.innerHTML = "❌ فشل التثبيت!<br>⚠️ حدث خطأ أثناء تحميل الملفات المؤقتة<br>" +
        "Error: " + e.type;
    }

    // الأحداث الأساسية للكاش
    window.applicationCache.addEventListener("progress", DLProgress, false);
    window.applicationCache.addEventListener("cached", DisplayCacheProgress, false);
    window.applicationCache.addEventListener("updateready", DisplayCacheProgress, false);
    window.applicationCache.addEventListener("noupdate", function () {
      msgs.innerHTML = "ℹ️ الملفات مخزنة بالفعل.";
    }, false);
    window.applicationCache.addEventListener("error", handleCacheError, false);
    window.applicationCache.addEventListener("obsolete", function () {
      msgs.innerHTML = "⚠️ الملف تم حذفه أو أصبح قديمًا (obsolete).";
    }, false);
    window.applicationCache.addEventListener("checking", function () {
      msgs.innerHTML = "🔄 جاري التحقق من الكاش...";
    }, false);
    window.applicationCache.addEventListener("downloading", function () {
      msgs.innerHTML = "⬇️ بدء تحميل ملفات الكاش...";
    }, false);
  </script>
</head>

<body>
  <div id="msgs" class="info"></div>
</body>
</html>
